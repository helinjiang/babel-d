{"version":3,"sources":["../src/file.js"],"names":["fs","require","walkSync","getAll","paths","options","result","entry","entries","forEach","item","push","getAllFiles","directories","isDirectory","lstatSync","isFile","existsSync","module","exports"],"mappings":";;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,WAAWD,QAAQ,WAAR,CAAjB;;AAEA;;;;;;;;;;;;;AAaA,SAASE,MAAT,CAAgBC,KAAhB,EAAuBC,OAAvB,EAAgC;AAC5B,QAAIC,SAAS,EAAb;;AAEA,QAAIC,QAAQL,SAASM,OAAT,CAAiBJ,KAAjB,EAAwBC,OAAxB,CAAZ;;AAEAE,UAAME,OAAN,CAAc,UAAUC,IAAV,EAAgB;AAC1B;AACAJ,eAAOK,IAAP,CAAYD,IAAZ;AACH,KAHD;;AAKA,WAAOJ,MAAP;AACH;;AAED,SAASM,WAAT,CAAqBR,KAArB,EAA4B;AACxB,WAAOD,OAAOC,KAAP,EAAc,EAAES,aAAa,KAAf,EAAd,CAAP;AACH;;AAED,SAASC,WAAT,CAAqBV,KAArB,EAA4B;AACxB,WAAOJ,GAAGe,SAAH,CAAaX,KAAb,EAAoBU,WAApB,EAAP;AACH;;AAED,SAASE,MAAT,CAAgBZ,KAAhB,EAAuB;AACnB,WAAOJ,GAAGiB,UAAH,CAAcb,KAAd,KAAwBJ,GAAGe,SAAH,CAAaX,KAAb,EAAoBY,MAApB,EAA/B;AACH;;AAEDE,OAAOC,OAAP,GAAiB;AACbhB,YAAQA,MADK;AAEbS,iBAAaA,WAFA;AAGbE,iBAAaA,WAHA;AAIbE,YAAQA;AAJK,CAAjB","file":"file.js","sourcesContent":["const fs = require('fs');\r\nconst walkSync = require('walk-sync');\r\n\r\n/**\r\n * 获得某路径下所有的文件和文件夹。\r\n *\r\n * https://www.npmjs.com/package/walk-sync\r\n *\r\n * @param {String} paths 路径\r\n * @param {Object} [options] 额外选项\r\n * @param {Array} [options.globs] An array of globs. Only files and directories that match at least one of the provided globs will be returned.\r\n * @param {Boolean} [options.directories ]  (default: true): Pass false to only return files, not directories\r\n * @param {Array} [options.ignore] An array of globs. Files and directories that match at least one of the provided globs will be pruned while searching.\r\n *\r\n * @return {Array} 结果，每个数组的元素为FileItem。\r\n */\r\nfunction getAll(paths, options) {\r\n    var result = [];\r\n\r\n    var entry = walkSync.entries(paths, options);\r\n\r\n    entry.forEach(function (item) {\r\n        // result.push(new FileItem(item.basePath, item.relativePath, item.mode, item.size, item.mtime, item.isDirectory()));\r\n        result.push(item);\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nfunction getAllFiles(paths) {\r\n    return getAll(paths, { directories: false });\r\n}\r\n\r\nfunction isDirectory(paths) {\r\n    return fs.lstatSync(paths).isDirectory();\r\n}\r\n\r\nfunction isFile(paths) {\r\n    return fs.existsSync(paths) && fs.lstatSync(paths).isFile();\r\n}\r\n\r\nmodule.exports = {\r\n    getAll: getAll,\r\n    getAllFiles: getAllFiles,\r\n    isDirectory: isDirectory,\r\n    isFile: isFile,\r\n};"]}